library(magrittr)
HOMA <- read.csv('./HOMA.csv')
HOMA <- read.csv('../HOMA.csv')
HOMA <- read.csv('../HOMA.csv', sep = ';')
View(HOMA)
summary(HOMA)
?read.csv
HOMA[WIEK < 20 | WIEK > 40]
View(HOMA)
View(HOMA)
# 1. Przegląd danych - "sanity checks":
HOMA$WIEK
HOMA[WIEK == 20]
HOMA <- data.table(HOMA)
library(data.table)
HOMA <- read.csv('../HOMA.csv', sep = ';')
HOMA <- data.table(HOMA)
summary(HOMA)
# 1. Przegląd danych - "sanity checks":
HOMA$WIEK
HOMA[WIEK == 20]
# 1. Przegląd danych - "sanity checks":
HOMA[WIEK < 20 | WIEK > 40]
HOMA[FAT.ALL.P > 100 | FAT.A.P > 100 | FAT.G.P > 100 | FAT.ALL.P < 0 | FAT.A.P < 0 | FAT.G.P < 0]
sapply(HOMA, class)
HOMA <- HOMA[, BMI := as.numeric(BMI)]
sapply(HOMA, class)
View(HOMA)
View(HOMA)
HOMA_DT <- HOMA_DT[, BMI := as.numeric(BMI), HOMA := as.numeric(HOMA), WHR := as.numeric(WHR), LDL.HDL := as.numeric(LDL.HDL), FAT.ALL.P := as.numeric(FAT.ALL.P), FAT.A.P := as.numeric(FAT.A.P), FAT.G.P := as.numeric(FAT.G.P)]
HOMA_DF <- read.csv('../HOMA.csv', sep = ';')
HOMA_DT <- data.table(HOMA)
summary(HOMA_DT)
# 1. Przegląd danych - "sanity checks":
HOMA_DT[WIEK < 20 | WIEK > 40]
HOMA_DT[FAT.ALL.P > 100 | FAT.A.P > 100 | FAT.G.P > 100 | FAT.ALL.P < 0 | FAT.A.P < 0 | FAT.G.P < 0]
sapply(HOMA_DT, class)
HOMA_DT <- HOMA_DT[, BMI := as.numeric(BMI), HOMA := as.numeric(HOMA), WHR := as.numeric(WHR), LDL.HDL := as.numeric(LDL.HDL), FAT.ALL.P := as.numeric(FAT.ALL.P), FAT.A.P := as.numeric(FAT.A.P), FAT.G.P := as.numeric(FAT.G.P)]
sapply(HOMA_DT, class)
HOMA_DT <- HOMA_DT[, BMI := as.numeric(BMI), HOMA := as.numeric(HOMA), WHR := as.numeric(WHR), LDL.HDL := as.numeric(LDL.HDL), FAT.ALL.P := as.numeric(FAT.ALL.P), FAT.A.P := as.numeric(FAT.A.P), FAT.G.P := as.numeric(FAT.G.P)]
View(HOMA)
HOMA_DF <- read.csv('../HOMA.csv', sep = ';')
HOMA_DT <- data.table(HOMA)
summary(HOMA_DT)
# 1. Przegląd danych - "sanity checks":
HOMA_DT[WIEK < 20 | WIEK > 40]
HOMA_DT[FAT.ALL.P > 100 | FAT.A.P > 100 | FAT.G.P > 100 | FAT.ALL.P < 0 | FAT.A.P < 0 | FAT.G.P < 0]
sapply(HOMA_DT, class)
HOMA_DT <- HOMA_DT[, BMI := as.numeric(BMI), HOMA := as.numeric(HOMA), WHR := as.numeric(WHR), LDL.HDL := as.numeric(LDL.HDL), FAT.ALL.P := as.numeric(FAT.ALL.P), FAT.A.P := as.numeric(FAT.A.P), FAT.G.P := as.numeric(FAT.G.P)]
HOMA_DF <- read.csv('../HOMA.csv', sep = ';')
HOMA_DT <- data.table(HOMA)
HOMA_DT <- data.table(HOMA_DF)
summary(HOMA_DT)
# 1. Przegląd danych - "sanity checks":
HOMA_DT[WIEK < 20 | WIEK > 40]
HOMA_DT[FAT.ALL.P > 100 | FAT.A.P > 100 | FAT.G.P > 100 | FAT.ALL.P < 0 | FAT.A.P < 0 | FAT.G.P < 0]
sapply(HOMA_DT, class)
HOMA_DT <- HOMA_DT[, BMI := as.numeric(BMI), HOMA := as.numeric(HOMA), WHR := as.numeric(WHR), LDL.HDL := as.numeric(LDL.HDL), FAT.ALL.P := as.numeric(FAT.ALL.P), FAT.A.P := as.numeric(FAT.A.P), FAT.G.P := as.numeric(FAT.G.P)]
sapply(HOMA_DT, class)
HOMA_DT <- HOMA_DT[, BMI := as.numeric(BMI), HOMA := as.numeric(HOMA), WHR := as.numeric(WHR), LDL.HDL := as.numeric(LDL.HDL), FAT.ALL.P := as.numeric(FAT.ALL.P)]
HOMA_DT <- HOMA_DT[, BMI := as.numeric(BMI)]
HOMA_DT <- HOMA_DT[, BMI := as.numeric(BMI), HOMA := as.numeric(HOMA)]
data.table(HOMA_DT)
data.table(HOMA_DT) == TRUE
sapply(HOMA_DT, class)
HOMA_DF <- read.csv('../HOMA.csv', sep = ';', dec = ',')
HOMA_DT <- data.table(HOMA_DF)
summary(HOMA_DT)
# 1. Przegląd danych - "sanity checks":
HOMA_DT[WIEK < 20 | WIEK > 40]
HOMA_DT[FAT.ALL.P > 100 | FAT.A.P > 100 | FAT.G.P > 100 | FAT.ALL.P < 0 | FAT.A.P < 0 | FAT.G.P < 0]
sapply(HOMA_DT, class)
?complete.cases
complete.cases(HOMA_DT)
count(complete.cases(HOMA_DT))
sum(complete.cases(HOMA_DT))
length(HOMA_DT)
shape(HOMA_DT)
HOMA_DT.shape
nrow(HOMA_DT)
num_incomplete_cases <- num_rows - num_complete_cases)
num_incomplete_cases <- num_rows - num_complete_cases
num_complete_cases <- sum(complete.cases(HOMA_DT))
num_rows <- nrow(HOMA_DT)
num_incomplete_cases <- num_rows - num_complete_cases
num_incomplete_cases
HOMA_DT[FAT.ALL.P > 100 | FAT.A.P > 100 | FAT.G.P > 100 | FAT.ALL.P < 0 | FAT.A.P < 0 | FAT.G.P < 0]
HOMA_DF[BMI < 18 | BMI > 23]
summary(HOMA_DT)
HOMA_DT[BMI < 18 | BMI > 23]
HOMA_DT[BMI < 18 | BMI > 23]
HOMA_DT[BMI < 18 | BMI > 23]$BMI
sapply(HOMA_DT, class)
HOMA_DT[BMI < 18 | BMI > 25]$BMI
length(HOMA_DT[BMI < 18 | BMI > 25]$BMI)
HOMA_DT[WHR<0]
HOMA_DT[TROJGLICERYDY < 0]
HOMA_DT[LDL.HDL < 0]
library(magrittr)
library(data.table)
HOMA_DF <- read.csv('../HOMA.csv', sep = ';', dec = ',')
HOMA_DT <- data.table(HOMA_DF)
summary(HOMA_DT)
HOMA_DT[WIEK < 20 | WIEK > 40]
HOMA_DT[FAT.ALL.P > 100 | FAT.A.P > 100 | FAT.G.P > 100 | FAT.ALL.P < 0 | FAT.A.P < 0 | FAT.G.P < 0]
length(HOMA_DT[BMI < 18 | BMI > 25]$BMI)
HOMA_DT[WIEK < 20 | WIEK > 40]
HOMA_DT[WIEK < 20 | WIEK > 40]
HOMA_DT["WIEK"<0]
HOMA_DT[WIEK<0]
HOMA_DT[WIEK<0][WIEK]
HOMA_DT[WIEK<0]["WIEK"]
setkey(HOMA_DT, WIEK)
HOMA_DT[-34]
HOMA_DT[27]
HOMA_DT[1]
setkey(HOMA_DT, WIEK)
HOMA_DT[1]
HOMA_DT[-34]
HOMA_DT["-34"]
HOMA_DT[WIEK < 20 | WIEK > 40]
HOMA_DT[WIEK < 0]
HOMA_DT[WIEK < 0, WIEK:=-WIEK]
HOMA_DT[WIEK < 20 | WIEK > 40]
HOMA_DT[FAT.ALL.P > 100 | FAT.A.P > 100 | FAT.G.P > 100 | FAT.ALL.P < 0 | FAT.A.P < 0 | FAT.G.P < 0]
length(HOMA_DT[BMI < 18 | BMI > 25]$BMI)
HOMA_DT[BMI < 18 | BMI > 25]
HOMA_DT <- HOMA_DT[BMI > 18 & BMI < 25]
HOMA_DF <- read.csv('../HOMA.csv', sep = ';', dec = ',')
HOMA_DT <- data.table(HOMA_DF)
summary(HOMA_DT)
HOMA_DT[WIEK < 20 | WIEK > 40]
HOMA_DT[WIEK < 0, WIEK:=-WIEK]
HOMA_DT[FAT.ALL.P > 100 | FAT.A.P > 100 | FAT.G.P > 100 | FAT.ALL.P < 0 | FAT.A.P < 0 | FAT.G.P < 0]
length(HOMA_DT[BMI < 18 | BMI > 25]$BMI)
HOMA_DT <- HOMA_DT[BMI >= 18 & BMI <= 25]
HOMA_DT[BMI < 18 | BMI > 25]
HOMA_DF <- read.csv('../HOMA.csv', sep = ';', dec = ',')
HOMA_DT <- data.table(HOMA_DF)
summary(HOMA_DT)
HOMA_DT[WIEK < 20 | WIEK > 40]
HOMA_DT[WIEK < 0, WIEK:=-WIEK]
HOMA_DT[FAT.ALL.P > 100 | FAT.A.P > 100 | FAT.G.P > 100 | FAT.ALL.P < 0 | FAT.A.P < 0 | FAT.G.P < 0]
length(HOMA_DT[BMI < 18 | BMI > 25]$BMI)
HOMA_DT[BMI < 18 | BMI > 25]
HOMA_DT[BMI >= 18 & BMI <= 25]
HOMA_DT[!(BMI < 18 | BMI > 25)]
HOMA_DT[BMI < 18 | BMI > 25]
HOMA_DT[!(BMI < 18 | BMI > 25)]
HOMA_DT
View(HOMA_DT)
View(HOMA_DT)
fsetdiff(HOMA_DT, HOMA_DT[!(BMI < 18 | BMI > 25)])
HOMA_DT <- HOMA_DT[BMI >= 18 & BMI <= 25]
HOMA_DT[WHR<0]
HOMA_DT[TROJGLICERYDY < 0]
HOMA_DT[LDL.HDL < 0]
sapply(HOMA_DT, class)
?complete.cases
num_complete_cases <- sum(complete.cases(HOMA_DT))
num_complete_cases
?complete.cases
num_complete_cases <- sum(complete.cases(HOMA_DT))
num_rows <- nrow(HOMA_DT)
num_incomplete_cases <- num_rows - num_complete_cases
num_incomplete_cases
complete.cases(HOMA_DT)
HOMA_DT <- HOMA_DT[complete.cases(HOMA_DT)]
summary(HOMA_DT)
boxplot(HOMA_DT)
boxplot.matrix(HOMA_DT)
boxplot(HOMA_DT)
ggplot(data = HOMA_DT)
library(ggplot2)
ggplot(data = HOMA_DT)
ggplot(data = HOMA_DT) +
geom_boxplot()
ggplot(data = HOMA_DT, aes()) +
geom_boxplot()
ggplot(data = HOMA_DT, aes(BMI)) +
geom_boxplot()
ggplot(data = HOMA_DT, aes(BMI)) +
geom_boxplot(BMI)
ggplot(data = HOMA_DT, aes(x=variable, y=value)) +
geom_boxplot(aes(fill=variable))
ggplot(data = HOMA_DT, aes(x=BMI, y=BMI)) +
geom_boxplot(aes(fill=BMI))
ggplot(data = HOMA_DT, aes(y=BMI)) +
geom_boxplot(aes(fill=BMI))
ggplot(data = HOMA_DT, aes(y=BMI)) +
geom_boxplot()
boxplot(HOMA_DT)
HOMA_DT.columns
HOMA_DT.column_names
colnames(HOMA_DT)
boxplot(HOMA_DT$WIEK)
boxplot(HOMA_DT$WIEK)
boxplot(HOMA_DT$BMI)
boxplot(HOMA_DT$WHR)
boxplot(HOMA_DT$TROJGLICRYDY)
boxplot(HOMA_DT$TROJGLICERYDY)
boxplot(HOMA_DT$HOMA)
colnames(HOMA_DT)
boxplot(HOMA_DT$FAT.ALL.P)
boxplot(HOMA_DT$FAT.G.P)
sample_n(HOMA_DT, 10)
library(dplyr)
sample_n(HOMA_DT, 10)
sample_n(HOMA_DT, 10)
set.seed(100)
sample_n(HOMA_DT, 10)
set.seed(100)
sample_n(HOMA_DT, 10)
TEST_SAMPLE <- sample_n(HOMA_DT, 10)
HOMA_DT <- fsetdiff(HOMA_DT, TEST_SAMPLE)
class(TEST_SAMPLE)
class(HOMA_DT)
fsetdiff(HOMA_DT, TEST_SAMPLE)
TEST_SAMPLE
HOMA_DT
fsetdiff(HOMA_DT, TEST_SAMPLE)
?fsetdiff
fsetdiff(HOMA_DT, TEST_SAMPLE)
is.data.table(HOMA_DT)
is.data.table(TEST_SAMPLE)
fsetdiff(HOMA_DT, TEST_SAMPLE)
fsetdiff(HOMA_DT, TEST_SAMPLE, ALL=TRUE)
fsetdiff(HOMA_DT, TEST_SAMPLE, all=TRUE)
TEST_SAMPLE
HOMA_DT
fsetdiff(HOMA_DT, HOMA_DT[!(BMI < 18 | BMI > 25)])
HOMA_DF <- read.csv('../HOMA.csv', sep = ';', dec = ',')
HOMA_DF <- read.csv('../HOMA.csv', sep = ';', dec = ',')
HOMA_DT <- data.table(HOMA_DF)
summary(HOMA_DT)
HOMA_DT[WIEK < 20 | WIEK > 40]
HOMA_DT[WIEK < 0, WIEK:=-WIEK]
HOMA_DT[FAT.ALL.P > 100 | FAT.A.P > 100 | FAT.G.P > 100 | FAT.ALL.P < 0 | FAT.A.P < 0 | FAT.G.P < 0]
length(HOMA_DT[BMI < 18 | BMI > 25]$BMI)
fsetdiff(HOMA_DT, HOMA_DT[!(BMI < 18 | BMI > 25)])
data.table.fsetdiff(HOMA_DT, HOMA_DT[!(BMI < 18 | BMI > 25)])
setdiff(HOMA_DT, HOMA_DT[!(BMI < 18 | BMI > 25)])
HOMA_DT <- HOMA_DT[BMI >= 18 & BMI <= 25]
HOMA_DT[WHR<0]
HOMA_DT[TROJGLICERYDY < 0]
HOMA_DT[LDL.HDL < 0]
sapply(HOMA_DT, class)
?complete.cases
num_complete_cases <- sum(complete.cases(HOMA_DT))
num_rows <- nrow(HOMA_DT)
num_incomplete_cases <- num_rows - num_complete_cases
num_incomplete_cases
complete.cases(HOMA_DT)
HOMA_DT <- HOMA_DT[complete.cases(HOMA_DT)]
summary(HOMA_DT)
colnames(HOMA_DT)
boxplot(HOMA_DT$WIEK)
set.seed(100)
TEST_SAMPLE <- sample_n(HOMA_DT, 10)
is.data.table(HOMA_DT)
is.data.table(TEST_SAMPLE)
setdiff(HOMA_DT, TEST_SAMPLE)
HOMA_DT <- setdiff(HOMA_DT, TEST_SAMPLE)
colnames(HOMA_DT)
fit <- lm(HOMA ~ WIEK + BMI + WHR + TROJGLICERYDY + LDL.HDL + FAT.ALL.P + FAT.A.P + FAT.G.P, DATA data = HOMA_DT)
fit <- lm(HOMA ~ WIEK + BMI + WHR + TROJGLICERYDY + LDL.HDL + FAT.ALL.P + FAT.A.P + FAT.G.P, data = HOMA_DT)
summary(fit)
coefficients(fit)
coefficients(fit) # model coefficients
confint(fit, level=0.95) # CIs for model parameters
fitted(fit) # predicted values
residuals(fit) # residuals
anova(fit) # anova table
vcov(fit) # covariance matrix for model parameters
influence(fit) # regression diagnostics
layout(matrix(c(1,2,3,4),2,2)) # optional 4 graphs/page
plot(fit)
HOMA_DF <- read.csv('../HOMA.csv', sep = ';', dec = ',')
colnames(HOMA_DT)
